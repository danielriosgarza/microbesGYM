<?xml version="1.0" encoding="UTF-8"?>
<svg width="340" height="520" viewBox="0 0 340 520" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style><![CDATA[
      .glass { fill:#ffffff; stroke:#cfe1f5; stroke-width:2; }
      .lid { fill:#5f7d87; }
      .cap { fill:#5f7d87; }
      .probe { stroke:#24d5c3; stroke-width:12; stroke-linecap:round; fill:none; }
      .weight { fill:#a7b3c7; }
      .liquid { fill:#e6e6ff; opacity:.85; }
      .wave { stroke:#b8b8ff; stroke-width:5; fill:none; opacity:.55; }
      .bubble { fill:#66e0ff; opacity:.9; }
      .sheen { fill:#e9f1ff; opacity:.6; }
      .shadow { fill:#0f172a; opacity:.10; }

      .magBody { fill:#ffffff; stroke:#334155; stroke-width:3; }
      .magInner { fill:#e5e7eb; }
      .magSeam { fill:#94a3b8; opacity:.9; }

      @keyframes showA { 0%,40%{opacity:1;} 50%,100%{opacity:0;} }
      @keyframes showB { 0%,40%{opacity:0;} 50%,90%{opacity:1;} 100%{opacity:0;} }
      @keyframes sweep {
        0%   { transform: translateX(-80px); opacity:.25; }
        50%  { opacity:.55; }
        100% { transform: translateX(80px);  opacity:.25; }
      }

      @keyframes rise { 0%{ transform:translateY(0); opacity:0; }
                        12%{ opacity:.95; } 100%{ transform:translateY(-180px); opacity:0; } }
      @keyframes waveSlide { to { transform: translateX(60px); } }

      .use-box { transform-box: fill-box; transform-origin: center; }
    ]]></style>

    <filter id="soft" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="2" stdDeviation="6" flood-color="#b7d0f7" flood-opacity="0.35"/>
    </filter>

    <clipPath id="clipVessel">
      <rect x="40" y="110" width="260" height="360" rx="18" ry="18"/>
    </clipPath>
  </defs>

  <g filter="url(#soft)">
    <rect x="30" y="90" width="280" height="400" rx="22" ry="22" class="glass"/>
  </g>
  <rect x="250" y="90" width="60" height="400" rx="22" ry="22" class="sheen"/>

  <rect x="40" y="145" width="260" height="30" rx="10" class="lid"/>
  <rect x="130" y="70" width="80" height="30" rx="10" class="cap"/>

  <path d="M70,58 v38" class="probe"/>
  <path d="M70,176 v210" class="probe"/>
  <rect x="60" y="380" width="20" height="32" rx="8" class="weight"/>

  <g clip-path="url(#clipVessel)">
    <rect x="40" y="175" width="260" height="290" class="liquid"/>
    <g class="use-box" style="animation: waveSlide 6s linear infinite;">
      <path d="M -40 210 q 40 -10 80 0 t 80 0 t 80 0 t 80 0" class="wave"/>
      <path d="M -60 260 q 40 -10 80 0 t 80 0 t 80 0 t 80 0" class="wave"/>
      <path d="M -40 310 q 40 -10 80 0 t 80 0 t 80 0 t 80 0" class="wave"/>
      <path d="M -60 360 q 40 -10 80 0 t 80 0 t 80 0 t 80 0" class="wave"/>
    </g>
    <g>
      <circle cx="150" cy="420" r="9" class="bubble use-box" style="animation: rise 3.8s linear infinite; animation-delay:0s;"/>
      <circle cx="210" cy="430" r="7" class="bubble use-box" style="animation: rise 3.2s linear infinite; animation-delay:.5s;"/>
      <circle cx="190" cy="425" r="10" class="bubble use-box" style="animation: rise 4.0s linear infinite; animation-delay:1.1s;"/>
      <circle cx="230" cy="435" r="6" class="bubble use-box" style="animation: rise 3.0s linear infinite; animation-delay:1.6s;"/>
      <circle cx="165" cy="440" r="7" class="bubble use-box" style="animation: rise 3.5s linear infinite; animation-delay:2.0s;"/>
    </g>

    <!-- Stirbar group translated upward from 464 -> 454 -->
    <g id="stirbar" transform="translate(170,454)">
      <ellipse cx="0" cy="6" rx="78" ry="6" class="shadow"/>

      <!-- Frame A: front view -->
      <g style="animation: showA 0.6s steps(1,end) infinite;">
        <g transform="translate(-85,-12)">
          <rect width="170" height="24" rx="12" class="magBody"/>
          <rect x="10" y="5" width="150" height="14" rx="7" class="magInner"/>
          <rect x="85" y="5" width="2" height="14" class="magSeam"/>
          <rect x="-90" y="-12" width="180" height="48" rx="24" fill="white" opacity=".4"
                style="animation: sweep 0.6s linear infinite;"/>
        </g>
      </g>

      <!-- Frame B: side view -->
      <g style="animation: showB 0.6s steps(1,end) infinite;">
        <g transform="translate(-10,-12)">
          <rect width="20" height="24" rx="10" class="magBody"/>
          <rect x="4" y="5" width="12" height="14" rx="6" class="magInner"/>
        </g>
      </g>
    </g>
  </g>
</svg>
